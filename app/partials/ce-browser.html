<div class="ceBrowser">
<div class="row-fluid">
	<div class="span12">
		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown">
				Connect
				<span class="caret"></span>
			</a>
			<ul class="dropdown-menu">
				<li ng-repeat="service in services">
					<a ng-click="connect(service.name)">{{service.display_name}}</a>
				</li>
			</ul>
		</div>
	</div>
</div>
<div class="row-fluid">
	<div class="span4">
		<script type="text/ng-template" id="tree_item_renderer.html">
		    <a ng-click="doEnter(data,rp,srv)">{{data.name}}</a>
		    <ul>
		        <li ng-class="fileClass(data)" ng-repeat="data in data.children | filter:{'is_dir':true}" ng-include="'tree_item_renderer.html'" onload="rp=rp+'/'+data.name; srv=srv"></li>
		    </ul>
		</script>
		<ul>
			<li ng-class="srvTreeK" ng-repeat="(srvTreeK, srvTreeV) in tree">
				<a ng-click="doEnter('','',srvTreeK)">{{ srvTreeK }}</a>
				<ul>
					<li ng-class="fileClass(data)" ng-repeat="data in srvTreeV | filter:{'is_dir':true}" ng-include="'tree_item_renderer.html'" onload="rp=data.name; srv=srvTreeK"></li>
				</ul>
			</li>
		</ul>
	</div>
	<div class="span8">
		<ul>
			<li ng-show="isLoggedin" class="upload">
				Télécharge un ou plusieurs fichiers: <div file-uploader></div>
			</li>
			<li class="is-dir-true" ng-hide="isRootPath()"><a ng-click="enterParentDir()">..</a></li>
			<li ng-repeat="file in files | orderBy:'is_dir':true" ng-class="fileClass(file)">
				<a ng-click="doEnter(file, path+file.name)">{{file.name}}</a>
			</li>
		</ul>
	</div>
</div>
<div class="row-fluid"><div class="span12" ce-console></div></div>
</div>